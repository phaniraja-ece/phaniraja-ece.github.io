:root {
  --bg: #0d1117;
  --panel: #0f1624;
  --fg: #c9d1d9;
  --muted: #8b949e;
  --border: #1f2937;
  --accent: #58a6ff;
  --green: #22c55e;
  --red: #ef4444;
  --yellow: #fbbf24;
  --orange: #f59e0b;
  --purple: #8b5cf6;
  --blue: #3b82f6;
}

* { box-sizing: border-box; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, sans-serif;
}

.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .75rem 1rem;
  border-bottom: 1px solid var(--border);
}
.brand { color: var(--accent); font-weight: 700; }
.actions {
  display: flex; gap: .75rem; align-items: center;
}
.actions input {
  width: 72px; background: var(--panel); color: var(--fg);
  border: 1px solid var(--border); border-radius: 8px; padding: .3rem .5rem;
}
.actions button, .controls button, .pgn-actions button {
  background: var(--accent); color: white; border: none; border-radius: 8px;
  padding: .5rem .75rem; font-weight: 600; cursor: pointer;
}
.actions button:hover, .controls button:hover, .pgn-actions button:hover { filter: brightness(1.1); }

.grid {
  display: grid; grid-template-columns: 1fr; gap: 1rem; padding: 1rem;
}
@media (min-width: 980px) {
  .grid { grid-template-columns: 640px 1fr; }
}

.board-panel {
  background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: .75rem;
}
.cg-board {
  height: 640px; max-width: 640px; margin: 0 auto; border-radius: 8px; overflow: hidden;
}
.controls {
  display: flex; gap: .5rem; align-items: center; justify-content: center; margin-top: .5rem;
}
.evalbar {
  position: relative; height: 200px; margin: .75rem auto 0; max-width: 640px;
  border: 1px solid var(--border); border-radius: 8px; overflow: hidden;
  background: linear-gradient(to top, #1f2937 0%, #1f2937 50%, #f9fafb 50%, #f9fafb 100%);
}
.evalfill {
  position: absolute; left: 0; bottom: 0; width: 100%; height: 50%;
  background: linear-gradient(to top, #10b981, #22c55e); transition: height 200ms ease;
}
.evalticks {
  position: absolute; left: 8px; right: 8px; bottom: 6px;
  display: flex; justify-content: space-between; color: var(--muted); font-size: .8rem;
}
.evalinfo {
  display: flex; gap: 1.25rem; justify-content: center; margin-top: .5rem;
}

.sidebar {
  background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: .75rem;
}
.pgnbox textarea {
  width: 100%; background: #0b1220; color: var(--fg);
  border: 1px solid var(--border); border-radius: 8px; padding: .75rem; resize: vertical;
}
.pgn-actions { display: flex; gap: .5rem; margin-top: .5rem; }

.summary {
  display: grid; grid-template-columns: repeat(2, 1fr);
  gap: .4rem 1rem; margin: .75rem 0; font-size: .95rem;
}
.summary span { color: var(--accent); }

.movelist table {
  width: 100%; border-collapse: collapse; font-size: .95rem;
}
.movelist th, .movelist td {
  padding: .4rem .5rem; border-bottom: 1px solid var(--border);
}
.movelist th { color: var(--muted); text-align: left; }

.symbol { font-weight: 700; }
.symbol.brilliant { color: var(--purple); }
.symbol.excellent { color: var(--blue); }
.symbol.great { color: var(--green); }
.symbol.good { color: var(--green); }
.symbol.inaccuracy { color: var(--yellow); }
.symbol.mistake { color: var(--orange); }
.symbol.blunder { color: var(--red); }

/* Mobile board scaling */
@media (max-width: 640px) {
  .cg-board { height: 80vw; }
  .evalbar { height: 30vw; }
}
